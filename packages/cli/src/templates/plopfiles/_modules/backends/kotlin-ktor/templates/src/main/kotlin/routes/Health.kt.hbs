package com.{{snakeCase name}}.routes

import io.ktor.server.application.*
import io.ktor.server.response.*
import io.ktor.server.routing.*
import kotlinx.serialization.Serializable
import java.time.Instant

@Serializable
data class HealthResponse(
    val status: String,
    val timestamp: String,
    val service: String
)

@Serializable
data class ReadyResponse(val ready: Boolean)

@Serializable
data class LiveResponse(val alive: Boolean)

fun Route.healthRoutes() {
    route("/health") {
        get {
            call.respond(HealthResponse(
                status = "ok",
                timestamp = Instant.now().toString(),
                service = "{{kebabCase name}}-backend"
            ))
        }

        get("/ready") {
            // Add database/service checks here
            call.respond(ReadyResponse(ready = true))
        }

        get("/live") {
            call.respond(LiveResponse(alive = true))
        }
    }
}
